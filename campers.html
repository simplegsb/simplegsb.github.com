<!DOCTYPE html>
<html>

	<head>
		<title>Gary / Gyan</title>

		<meta name=viewport content="width=device-width, initial-scale=1">

		<link rel="shortcut icon" href="images/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="css/fonts.css" />
		<link rel="stylesheet" type="text/css" href="css/layout.css" />

		<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBy4uezjac97xYeOHIt-Rmd9YxHYP-STjE"></script>
		<script type="text/javascript" src="js/sections.js"></script>
		<script type="text/javascript" src="js/campers.js"></script>

		<script type="text/javascript" src="js/lib/J3DI.js"></script>
		<script type="text/javascript" src="js/lib/J3DIMath.js"></script>
		<script type="text/javascript" src="js/lib/webgl-debug.js"></script>
		<script type="text/javascript" src="js/lib/webgl-utils.js"></script>

		<script type="text/javascript" src="js/simplicityjs/Camera.js"></script>
		<script type="text/javascript" src="js/simplicityjs/Entity.js"></script>
		<script type="text/javascript" src="js/simplicityjs/Model.js"></script>
		<script type="text/javascript" src="js/simplicityjs/ModelFactory.js"></script>
		<script type="text/javascript" src="js/simplicityjs/Pipeline.js"></script>
		<script type="text/javascript" src="js/simplicityjs/RenderingEngine.js"></script>
		<script type="text/javascript" src="js/simplicityjs/Script.js"></script>
		<script type="text/javascript" src="js/simplicityjs/ScriptingEngine.js"></script>
		<script type="text/javascript" src="js/simplicityjs/Simplicity.js"></script>

		<script type="text/javascript" src="js/simplicityjs-campers/Animator.js"></script>
		<script type="text/javascript" src="js/simplicityjs-campers/Main.js"></script>
		<script type="text/javascript" src="js/simplicityjs-campers/Spinner.js"></script>

		<script id="mirrorVertexShader" type="x-shader/x-vertex">
			uniform mat4 cameraTransform;
			uniform mat4 worldTransform;

			attribute vec4 color;
			attribute vec3 normal;
			attribute vec3 position;
			attribute vec2 texCoord;

			varying vec4 colorOut;
			varying vec3 normalOut;
			varying vec2 texCoordOut;

			void main()
			{
				mat4 mirrorWorldTransform = worldTransform;
				mirrorWorldTransform[3][1] -= mirrorWorldTransform[3][1] * 2.0;

				colorOut = color;

				mat4 mirrorWorldRotation = mirrorWorldTransform;
				mirrorWorldRotation[3][0] = 0.0;
				mirrorWorldRotation[3][1] = 0.0;
				mirrorWorldRotation[3][2] = 0.0;
				mirrorWorldRotation[3][3] = 1.0;
				normalOut = (mirrorWorldRotation * vec4(normal, 1.0)).xyz;

				vec2 mirrorTexCoord = texCoord;
				mirrorTexCoord.t = 1.0 - mirrorTexCoord.t;
				texCoordOut = mirrorTexCoord;

				gl_Position = cameraTransform * mirrorWorldTransform * vec4(position, 1.0);
			}
		</script>

		<script id="mirrorFragmentShader" type="x-shader/x-fragment">
			precision mediump float;

			uniform sampler2D sampler;
			uniform int samplerEnabled;

			varying vec4 colorOut;
			varying vec3 normalOut;
			varying vec2 texCoordOut;

			void main()
			{
				if (samplerEnabled == 1)
				{
					gl_FragColor = texture2D(sampler, texCoordOut);
				}
				else
				{
					gl_FragColor = colorOut;
				}

				float ambientFactor = 0.2;
				float diffuseFactor = dot(normalOut, vec3(0.0, 0.0, 1.0));
				gl_FragColor.xyz = gl_FragColor.xyz * ambientFactor + gl_FragColor.xyz * diffuseFactor;

				float transparency = texCoordOut.t * 0.9;
				gl_FragColor.w *= transparency;
			}
		</script>

		<script id="simpleVertexShader" type="x-shader/x-vertex">
			uniform mat4 cameraTransform;
			uniform mat4 worldTransform;

			attribute vec4 color;
			attribute vec3 normal;
			attribute vec3 position;
			attribute vec2 texCoord;

			varying vec4 colorOut;
			varying vec3 normalOut;
			varying vec2 texCoordOut;

			void main()
			{
				colorOut = color;

				mat4 worldRotation = worldTransform;
				worldRotation[3][0] = 0.0;
				worldRotation[3][1] = 0.0;
				worldRotation[3][2] = 0.0;
				worldRotation[3][3] = 1.0;
				normalOut = (worldRotation * vec4(normal, 1.0)).xyz;

				texCoordOut = texCoord;

				gl_Position = cameraTransform * worldTransform * vec4(position, 1.0);
			}
		</script>

		<script id="simpleFragmentShader" type="x-shader/x-fragment">
			precision mediump float;

			uniform sampler2D sampler;
			uniform int samplerEnabled;

			varying vec4 colorOut;
			varying vec3 normalOut;
			varying vec2 texCoordOut;

			void main()
			{
				if (samplerEnabled == 1)
				{
					gl_FragColor = texture2D(sampler, texCoordOut);
				}
				else
				{
					gl_FragColor = colorOut;
				}

				float ambientFactor = 0.2;
				float diffuseFactor = dot(normalOut, vec3(0.0, 0.0, 1.0));
				gl_FragColor.xyz = gl_FragColor.xyz * ambientFactor + gl_FragColor.xyz * diffuseFactor;
			}
		</script>
	</head>

	<body>
		<div id="header">
			<h1><a href="index.html">Gary Shawn Buyn / Prem Gyan</a></h1>
			<div id="menu">
				<a href="osho.html">Osho</a>
				<a href="software.html">Software</a>
				<a href="film.html">Film</a>
				<h2>Campers</h2>
				<a href="poetry.html">Poetry</a>
				<a href="contact.html">Contact</a>
			</div>
		</div>

		<p>
			I like building camper vans.
		</p>

		<a onclick="selectCamperSection('section', 'gertrude');"><h3>Gertrude</h3></a>
		<div id="gertrude" class="section">
			<p>
				Gertrude was my first camper van. She was given an ugly name to match her... well... ugliness. When I bought her she was already fitted out but I decided it was shit, pulled everything out and started from scratch. Lots of fun! Sadly Gertrude died and was unable to complete her last mission to Edinburgh. May she rest in peace... as a cube... because I had her crushed into a cube.
			</p>

			<canvas id="gertrudeCanvas" width="720px" height="480px">
				If you're seeing this your web browser doesn't support the &lt;canvas&gt;&gt; element. Ouch!
			</canvas>

			<div class="aside">
				<div id="gertrudeMap" style="width: 720px; height: 480px;"></div>
			</div>
		</div>

		<a onclick="selectCamperSection('section', 'lucille');"><h3>Lucille</h3></a>
		<div id="lucille" class="section">
			<p>
				Lucille was a 16 seater mini-bus. I whipped out all of her seats and fitted her as a luxury moving home. Some lucky guy picker her up for cheap since I was leaving europe and needed a quick sale during winter...
			</p>

			<p>
				Coming soon...
			</p>
		</div>
	</body>

</html>

